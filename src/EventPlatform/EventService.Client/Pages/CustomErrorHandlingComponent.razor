@using EventService.Client.Models

@inject ILogger<CustomErrorHandlingComponent> Logger

<CascadingValue Value="this">
    @ChildContent
</CascadingValue>


@if (!string.IsNullOrEmpty(ErrorMessage))
{
    <div class="alert alert-danger" role="alert">
        @ErrorMessage
    </div>
}

@code {
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    public string ErrorMessage { get; set; }

    public void ProcessError(Exception ex)
    {
        ErrorMessage = $"Fehler: {ex.Message}";
        StateHasChanged();
    }
}